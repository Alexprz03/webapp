{"version":3,"sources":["config/fire.js","Composants/MusicList.js","Composants/Header.js","Composants/FirstComponent.js","Menu.js","Composants/Inscription.js","Composants/Paiement.js","App.js","index.js"],"names":["fire","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ListMusic","props","state","test","axios","get","then","reponse","setState","data","className","this","Component","Header","href","FirstComponent","lecture","musique","play","pause","audio","logout","auth","signOut","url","Audio","nowPlaying","nowPlayingTimeout","response","catch","error","console","clearTimeout","setTimeout","Fragment","onClick","change_status","type","name","Menu","presentation","id","firstname","names","Inscription","handleChange","e","target","value","login","preventDefault","signInWithEmailAndPassword","email","password","fireErrors","message","register","createUserWithEmailAndPassword","getAction","action","formTitle","loginBtn","errorNotification","classname","submitBtn","login_register","clasName","onChange","placeholder","btcpay","require","keypair","crypto","load_keypair","client","BTCPayClient","merchant","invoices","Paiement","amount","music_name","inv","event","log","Number","create_invoice","price","currency","invoice","window","open","err","get_invoice","status","color","handle","bind","text-align","App","user","authListener","onAuthStateChanged","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cb66ecea.chunk.js","sourcesContent":["import firebase from 'firebase';\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyAHDbQQZYKIMm5FSQxdmGD-LbrTD-XZ3f8\",\r\n    authDomain: \"pi2sbpp21.firebaseapp.com\",\r\n    databaseURL: \"https://pi2sbpp21.firebaseio.com\",\r\n    projectId: \"pi2sbpp21\",\r\n    storageBucket: \"pi2sbpp21.appspot.com\",\r\n    messagingSenderId: \"567937183366\",\r\n    appId: \"1:567937183366:web:0c34e1a76819885ee22b07\",\r\n    measurementId: \"G-9QTY7E1Z43\"\r\n  };\r\n\r\n  const fire= firebase.initializeApp(config);\r\n  export default fire;","import React, {Component, useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default class ListMusic extends Component {\r\n   /*  App(){\r\n        const[data, setData] = useState([]);\r\n\r\n        useEffect(() => {\r\n            const fetchData = async () => {\r\n                const result = await axios('https://www.azuracast.com/api/index.html#/',);\r\n\r\n                setData(result.data);\r\n            };\r\n            fetchData();\r\n        }, [])\r\n    } */\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            test:''\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        axios.get('https://blockchain.info/tobtc?currency=EUR&value=1')\r\n        .then(reponse=>{\r\n            this.setState({\r\n                test:reponse.data\r\n            })\r\n        })\r\n    }\r\n    \r\n    render() {\r\n\r\n    \r\n        return(\r\n            <div>\r\n                 <header className=\"App-header\">\r\n                 {this.state.test}\r\n                 </header>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport default class Header extends Component {\r\n    render(){\r\n        return(\r\n                <nav className= \"navbar navbar-expand-sm navbar-dark bg-danger mb-3 py-0\" >\r\n                    <a href=\"/\" className=\"navbar-brand\">Accueil</a>\r\n                    <div className=\"collpase navbar-collapse\">\r\n                    <ul className=\"navbar-nav mr-auto\">\r\n                        <li className=\"navbar-item\">\r\n                        <a href=\"/ListMusic\" className=\"nav-link\">Liste des stations disponibles</a>\r\n                        </li>\r\n                        <li className=\"navbar-item\">\r\n                        <a href=\"/Inscription\" className=\"nav-link\">Espace Artiste</a>\r\n                        </li>\r\n                        <li className=\"navbar-item\">\r\n                        <a href=\"/Paiement\" className=\"nav-link\">Paiement</a>\r\n                        </li>\r\n                    </ul>\r\n                    </div>\r\n                </nav>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport fire from '../config/fire';\r\nimport axios from 'axios';\r\n\r\nclass FirstComponent extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n        this.state = { \r\n            play: false,\r\n            pause: true,\r\n            musique: 'Play'\r\n        }\r\n        this.url = \"http://88.140.197.167/radio/8000/radio.mp3\";\r\n        this.audio = new Audio(this.url);\r\n    }\r\n\r\n    lecture = () => {\r\n        this.setState({\r\n            musique : 'Arreter la musique' \r\n        });\r\n    }\r\n\r\n    play = () => {\r\n        this.setState({ play: true, pause: false, musique: 'Pause' })\r\n          this.audio.play();\r\n        }\r\n\r\n    pause = () => {\r\n        this.setState({ play: false, pause: true, musique: 'Play' })\r\n            this.audio.pause();\r\n        }\r\n\r\n    change_status()\r\n    {\r\n        if(this.state.musique === 'Pause')\r\n        {\r\n            return this.pause\r\n        }\r\n        else\r\n        {\r\n            return this.play\r\n        }\r\n    }\r\n\r\n    logout= () =>{\r\n        fire.auth().signOut();\r\n    }\r\n\r\n\r\n    loadNowPlaying() {\r\n        var nowPlaying;\r\n        var nowPlayingTimeout;\r\n\r\n        axios.get('https://demo.azuracast.com/api/nowplaying').then((response) => {\r\n            // Do something with the Now Playing data.\r\n            nowPlaying = response.data;\r\n        }).catch((error) => {\r\n            console.error(error);\r\n        }).then(() => {\r\n            clearTimeout(nowPlayingTimeout);\r\n            nowPlayingTimeout = setTimeout(nowPlaying, 15000);\r\n        });\r\n    }\r\n\r\n\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n\r\n                <p> Ma plateforme de streaming musical en p2p ! ;) </p>\r\n                <br/>\r\n                <button onClick = {this.change_status()} > <h1> {this.state.musique} </h1> </button>\r\n                <br/><br/>\r\n                <p>Que souhaites-tu écouter ? </p>\r\n                <input type =\"text\" name=\"musics\"/>\r\n                 <button>Entrer</button>\r\n                 <br/><br/> \r\n                \r\n                \r\n                <button onClick={this.logout}>Deconnexion</button>\r\n                \r\n            </React.Fragment>\r\n            \r\n        )\r\n    }\r\n}\r\n \r\nexport default FirstComponent;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport  'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport FirstComponent from './Composants/FirstComponent';\r\n\r\nclass Menu extends Component {\r\n\r\n  state = {\r\n    presentation : [\r\n      {\r\n        id : 1, \r\n        name : 'Perez',\r\n        firstname : 'Alexandre'\r\n      },\r\n      {\r\n        id : 2, \r\n        name : 'Pauty',\r\n        firstname : 'Camille'\r\n      },\r\n      {\r\n        id : 3, \r\n        name : 'Engel',\r\n        firstname : 'Matthieu'\r\n      },\r\n      {\r\n        id : 4, \r\n        name : 'Guessous',\r\n        firstname : 'Alec'\r\n      },\r\n    ]\r\n  }\r\n\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"Menu\">           \r\n        <header className=\"App-header\">\r\n          <h2> BTC Radio Stream </h2>\r\n          <FirstComponent names = {this.state.presentation}/>\r\n        </header>\r\n      </div> \r\n    );\r\n  }\r\n} \r\n\r\nexport default Menu; ","import React, {useState, Component} from 'react';\r\nimport '../App.css';\r\n\r\nimport fire from '../config/fire';\r\n\r\n\r\nexport default class Inscription extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            email: '',\r\n            password:'',\r\n            fireErrors:'',\r\n            formTitle:'Connexion',\r\n            loginBtn: true\r\n        };\r\n    }\r\n\r\n    handleChange=e=>{\r\n        this.setState({[e.target.name]:e.target.value})\r\n    }\r\n\r\n    login=e=>{\r\n        e.preventDefault();\r\n        fire.auth().signInWithEmailAndPassword(this.state.email, this.state.password)\r\n            .catch((error)=>{\r\n                this.setState({fireErrors: error.message})\r\n            });\r\n    }\r\n\r\n    register=e=>{\r\n        e.preventDefault();\r\n        fire.auth().createUserWithEmailAndPassword(this.state.email, this.state.password)\r\n            .catch((error)=>{\r\n                this.setState({fireErrors: error.message})\r\n            });\r\n    }\r\n\r\n    getAction = action =>{\r\n        if(action === 'reg'){\r\n            this.setState({formTitle:\"Inscription\", loginBtn:false, fireErrors:''});}\r\n        else{\r\n            this.setState({formTitle:\"Connexion\", loginBtn:true, fireErrors:''});\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n\r\n        let errorNotification=this.state.fireErrors ?\r\n            (<div classname=\"Error\">{this.state.fireErrors}</div>) :null;\r\n\r\n        let submitBtn = this.state.loginBtn?\r\n            (<input className=\"loginBtn\" type=\"submit\" onClick={this.login} value=\"Entrer\"/>):\r\n            (<input className=\"loginBtn\" type=\"submit\" onClick={this.register} value=\"S'inscrire\"/>)\r\n\r\n        let login_register = this.state.loginBtn ?\r\n            (<button className=\"registerBtn\" onClick={()=> this.getAction('reg')}>Inscription</button>):\r\n            (<button className=\"registerBtn\" onClick={()=> this.getAction('login')}>Connexion</button>)\r\n        \r\n\r\n        return(        \r\n          <div className=\"form_block\">\r\n            <div id=\"title\">{this.state.formTitle}</div>\r\n            <div clasName=\"body\">\r\n                {errorNotification}\r\n                <form>\r\n                    <input type=\"text\"\r\n                    value={this.state.email}\r\n                    onChange={this.handleChange}\r\n                    placeholder=\"Email\"\r\n                    name=\"email\"/>\r\n\r\n                    <input type=\"password\"\r\n                    value={this.state.password}\r\n                    onChange={this.handleChange}\r\n                    placeholder=\"Mot de passe\"\r\n                    name=\"password\"/>\r\n\r\n                    {submitBtn}\r\n                </form>\r\n                    {login_register}\r\n            </div>\r\n          </div>\r\n        )\r\n    }\r\n\r\n/*\r\n    state = {\r\n        nom :'',\r\n        prenom : '',\r\n        statut : '',\r\n        items : []\r\n    }\r\n\r\n    onChange = (event) => {\r\n        this.setState({\r\n            [event.target.name] : event.target.value\r\n        });\r\n    }\r\n\r\n    onSubmit = (event) => {\r\n        event.preventDefault();\r\n        this.setState({\r\n            nom : '',\r\n            prenom : '',\r\n            statut : '',\r\n            items:[...this.state.items, {nom:this.state.nom, prenom:this.state.prenom, statut:this.state.statut}]\r\n        });\r\n    }\r\n\r\n    renderCard = () => {\r\n        return this.state.items.map((item, index) => {\r\n            return(\r\n                <div className=\"card\" key = {index}>\r\n                    <div className=\"card-body\">\r\n                        <h3>Utilisateur</h3>\r\n                        <hr />\r\n                            <p> Prenom : {item.prenom}</p>\r\n                            <p> Nom : {item.nom}</p>\r\n                            <p> Statut : {item.statut}</p>\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <div className=\"card my-3\">\r\n                    <div className=\"card-header\"> S'inscrire</div>\r\n                    <div className=\"card-body\">\r\n\r\n                            <form onSubmit = {this.onSubmit}>\r\n\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"nom\">Nom</label>\r\n                                    <input type=\"text\"\r\n                                        className=\"form-control form-control-lg\"\r\n                                        name=\"nom\"\r\n                                        onChange={this.onChange}\r\n                                        value={this.state.nom}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"prenom\">Prenom</label>\r\n                                    <input type=\"text\"\r\n                                        className=\"form-control form-control-lg\"\r\n                                        name=\"prenom\"\r\n                                        onChange={this.onChange}\r\n                                        value={this.state.prenom}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"statut\">Statut</label>\r\n                                    <input type=\"text\"\r\n                                        className=\"form-control form-control-lg\"\r\n                                        name=\"statut\"\r\n                                        onChange={this.onChange}\r\n                                        value={this.state.statut}\r\n                                    />\r\n                                </div>\r\n\r\n                                <button className=\"btn btn-primary btn-block\"> Entrer!</button>\r\n                                \r\n                            </form>\r\n\r\n                        </div>\r\n                </div>\r\n                {this.renderCard()}\r\n            </div>\r\n        )\r\n    }\r\n    */\r\n}\r\n","import React, { Component } from 'react';\r\nimport '../App.css';\r\nimport fire from '../config/fire';\r\nimport axios from 'axios';\r\n\r\nconst btcpay = require('btcpay')\r\n//const keypair = btcpay.crypto.load_keypair('BN { negative: 0, words: [66839803, 50203804, 66633053, 35286205, 48582956, 43667733, 3955427, 12262438, 36021718, 884618, 0], length: 10, red: null },', 'hex')\r\n//const client = new btcpay.BTCPayClient('https://btcpay.henril.eu/', keypair, {merchant: \"HLzzQvQX4hTWMCTLhGgEnG7gcc2L6DhyRN9nEckL8bRc\"})\r\n\r\nconst keypair = btcpay.crypto.load_keypair('BN { negative: 0, words: [40976936, 54911970, 15283137, 7965087, 10027032, 15598902, 14730883, 37542828, 60569923, 14749, 0], length: 10, red: null },', 'hex')\r\nconst client = new btcpay.BTCPayClient('https://testnet.demo.btcpayserver.org/', keypair, {merchant: \"2voS9U1vSNFBxEVQbZz1rsKx45AY64NqzS33aPgX4aPV\"})\r\n\r\n\r\n/*client.get_rates(['BTC_USD'], 'ELmpqY2eArWCBf9y6GM8vihxBFRHYrDFpAdmKASa7i7c')\r\n  .then(rates => console.log(rates))\r\n  .catch(err => console.log(err))\r\n\r\n*/\r\nconst invoices = []\r\n\r\nclass Paiement extends Component {\r\n\r\n    logout= () =>{\r\n        fire.auth().signOut();\r\n    }\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state={\r\n            test:'',\r\n            amount:'',\r\n            music_name:'',\r\n            inv:''\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        axios.get('https://blockchain.info/tobtc?currency=EUR&value=1')\r\n        .then(reponse=>{\r\n            this.setState({\r\n                test:reponse.data\r\n            })\r\n        })\r\n    }\r\n\r\n    handle(event)\r\n    {\r\n        this.setState({\r\n            amount:event.target.value,\r\n            music_name:event.target.value\r\n        })\r\n    }\r\n\r\n    create_invoice()\r\n    {\r\n        console.log(this.state.amount)\r\n        if(this.state.amount !== \"\")\r\n        {\r\n            var invoice = \"\"\r\n            var amount = Number(this.state.amount)\r\n            if(amount > 0)\r\n            {\r\n                invoice = client.create_invoice({price: amount, currency: 'USD'})\r\n                .then(invoice => {\r\n                    window.open(invoice.url)\r\n                    this.setState({inv: Number(invoice.id)})\r\n                    return invoice.id\r\n                })\r\n                .catch(err => console.log(err))\r\n            }\r\n        }\r\n    }\r\n\r\n    get_invoice()\r\n    {\r\n        client.get_invoice(invoices[0])\r\n        .then(invoice => console.log(invoice.status))\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                 <header className=\"App-header\">\r\n                    <h1> Plateforme de paiement </h1>\r\n                    <br/>\r\n                    <p> Gérer mon portefeuille </p>\r\n                    <h3 color = \"rgb(0,255,0)\" >1btc({1*this.state.test}€)</h3  >\r\n                    <br/>\r\n                    <p>Entrer le nom de la musique</p>\r\n                    <input type =\"text\" onChange={this.handle.bind(this)} text-align=\"right\"/>\r\n                    <p>Entrer un montant</p>\r\n                    <input type =\"text\" onChange={this.handle.bind(this)} text-align=\"right\"/>\r\n                    <button onClick={() => this.create_invoice()}>Ajouter des fonds</button>\r\n                    <br/>\r\n                    <br/><br/> \r\n                    \r\n                    \r\n                    <button onClick={this.logout}>Deconnexion</button>\r\n                    <br/>\r\n                </header>\r\n            </React.Fragment>\r\n            \r\n        )\r\n    }\r\n}\r\n \r\nexport default Paiement;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport  'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport fire from './config/fire';\r\n\r\nimport ListMusic from './Composants/MusicList'\r\nimport Header from './Composants/Header'\r\nimport Menu from './Menu'\r\nimport Inscription from './Composants/Inscription'\r\nimport Paiement from './Composants/Paiement'\r\n\r\n\r\n\r\nclass App extends Component {\r\n\r\n  constructor(){\r\n    super();\r\n    this.state={\r\n      user:null\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.authListener();\r\n  }\r\n\r\n  authListener(){\r\n    fire.auth().onAuthStateChanged((user)=>{\r\n      if(user){\r\n        this.setState({user});\r\n      } \r\n      else{\r\n        this.setState({user:null});\r\n      }\r\n    });\r\n  }\r\n\r\n  render(){\r\n    return (\r\n        <Router>\r\n          <Header/>\r\n           <Route path =\"/\" exact component = {Menu} />\r\n           <Route path=\"/ListMusic\" component={ListMusic} />\r\n           <Route path=\"/Inscription\" component={Inscription} />\r\n           <Route path=\"/Paiement\" component={Paiement} />\r\n        </Router>\r\n    );\r\n  }\r\n} \r\n\r\nexport default App; ","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}